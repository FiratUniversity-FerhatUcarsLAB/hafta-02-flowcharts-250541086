digraph ATM {
    rankdir=TB;
    node [shape=rectangle, style=rounded, fontname="Arial"];

    Start [label="BAŞLA"];
    Intro [label="ATM Para Çekme İşlemi\nHesap Bakiyesi ve Günlük Limit Yaz"];
    LoopStart [label="DÖNGÜ BAŞLANGICI"];
    InputMiktar [label="Çekmek istediğiniz miktarı girin (TL):", shape=parallelogram];

    CheckValid [label="Miktar <= 0 ? ", shape=diamond];
    InvalidAmount [label="Hata: Geçerli bir miktar girin.", shape=rectangle];

    CheckLimit [label="Miktar > (Günlük Limit - Çekilen Bugün)?", shape=diamond];
    LimitError [label="Hata: Günlük limit aşıldı\nKalan Limit Yaz", shape=rectangle];

    CheckBalance [label="Miktar > Bakiye ? ", shape=diamond];
    BalanceError [label="Hata: Yetersiz Bakiye\nBakiye Yaz", shape=rectangle];

    Success [label="Para Çekme Başarılı\nBakiye ve Kalan Limit Güncelle", shape=rectangle];

    AskAgain [label="Başka işlem yapmak istiyor musunuz? (Evet/Hayır)", shape=parallelogram];
    CheckAnswer [label="Cevap = Hayır ?", shape=diamond];

    EndLoop [label="Döngü Sonu"];
    End [label="İyi günler dileriz.", shape=oval];

    // Bağlantılar
    Start -> Intro -> LoopStart -> InputMiktar -> CheckValid;

    CheckValid -> InvalidAmount [label="Evet"];
    InvalidAmount -> LoopStart;

    CheckValid -> CheckLimit [label="Hayır"];

    CheckLimit -> LimitError [label="Evet"];
    LimitError -> LoopStart;

    CheckLimit -> CheckBalance [label="Hayır"];

    CheckBalance -> BalanceError [label="Evet"];
    BalanceError -> LoopStart;

    CheckBalance -> Success [label="Hayır"];

    Success -> AskAgain -> CheckAnswer;

    CheckAnswer -> End [label="Evet"];
    CheckAnswer -> LoopStart [label="Hayır"];

    End -> EndLoop;
}
